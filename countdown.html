<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Transmission en attente</title>

<style>
body {
    margin:0;
    height:100vh;
    background: radial-gradient(circle at center, #400000 0%, #000 70%);
    color:white;
    font-family:"Consolas", monospace;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    animation: pulseImperial 6s ease-in-out infinite;
}

/* Pulsation impériale lente du fond */
@keyframes pulseImperial {
    0% {
        background: radial-gradient(circle at center, #350000 0%, #000 70%);
    }
    50% {
        background: radial-gradient(circle at center, #600000 0%, #000 75%);
    }
    100% {
        background: radial-gradient(circle at center, #350000 0%, #000 70%);
    }
}

/* Scanlines rouges */
body::before {
    content:"";
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    background: repeating-linear-gradient(
        to bottom,
        rgba(255,0,0,0.12),
        rgba(255,0,0,0.12) 2px,
        transparent 2px,
        transparent 4px
    );
    animation:flicker 0.2s infinite;
}

@keyframes flicker {
    0% {opacity:0.95;}
    50% {opacity:1;}
    100% {opacity:0.97;}
}

.container {
    z-index:2;
}

.label {
    letter-spacing:4px;
    font-size:14px;
    color:gold;
    margin-bottom:20px;
}

/* Pulsation du timer */
#countdown {
    font-size:42px;
    letter-spacing:4px;
    margin-top:20px;
    animation: pulseTimer 4s ease-in-out infinite;
    text-shadow: 0 0 5px red;
}

@keyframes pulseTimer {
    0% {
        transform: scale(1);
        text-shadow: 0 0 5px #600000;
    }
    50% {
        transform: scale(1.05);
        text-shadow: 0 0 20px red, 0 0 40px darkred;
    }
    100% {
        transform: scale(1);
        text-shadow: 0 0 5px #600000;
    }
}

button {
    padding:12px 35px;
    background:black;
    color:gold;
    border:2px solid darkred;
    font-size:16px;
    letter-spacing:2px;
    cursor:pointer;
}

button:hover {
    background:#220000;
}

#sync {
    margin-top:20px;
    color:gold;
    font-size:14px;
    display:none;
}
</style>
</head>

<body>

<div class="container">

    <div id="initScreen">
        <button onclick="startCountdown()">INITIALISER COMPTE À REBOURS</button>
        <div id="sync">Synchronisation du canal...</div>
    </div>

    <div id="countdownScreen" style="display:none;">
        <div class="label">TRANSMISSION PROGRAMMÉE</div>
        <div id="countdown">--J --H --M --S</div>
    </div>

</div>

<audio id="bgMusic" src="countdown_ambience.mp3" loop></audio>

<script>
const bgMusic = document.getElementById("bgMusic");
bgMusic.volume = 0.25;

const dateCible = new Date("2026-06-01T20:00:00").getTime();

let intervalID;

function startCountdown() {
    document.getElementById("sync").style.display = "block";

    bgMusic.play().catch(()=>{});

    setTimeout(() => {
        document.getElementById("initScreen").style.display = "none";
        document.getElementById("countdownScreen").style.display = "block";
        lancerCompte();
    }, 2000);
}

function lancerCompte() {
    intervalID = setInterval(() => {
        const maintenant = new Date().getTime();
        const distance = dateCible - maintenant;

        if (distance < 0) {
            clearInterval(intervalID);
            document.getElementById("countdown").innerHTML =
                "TRANSMISSION OUVERTE";
            return;
        }

        const j = Math.floor(distance / (1000 * 60 * 60 * 24));
        const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("countdown").innerHTML =
            j + "J " + h + "H " + m + "M " + s + "S";

    }, 1000);
}
</script>

</body>
</html>
